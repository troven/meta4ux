/*
  backgrid-moment-cell
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
(function(t,e,a,i,o){var l=i.Extension.MomentFormatter=function(t){e.extend(this,this.defaults,t)};l.prototype=new i.CellFormatter,e.extend(l.prototype,{defaults:{modelInUTC:!0,modelLang:o.lang(),modelFormat:o.defaultFormat,displayInUTC:!0,displayLang:o.lang(),displayFormat:o.defaultFormat},fromRaw:function(t){if(null==t)return"";var e=this.modelInUTC?o.utc(t,this.modelFormat,this.modelLang):o(t,this.modelFormat,this.modelLang);return this.displayLang&&e.lang(this.displayLang),this.displayInUTC?e.utc():e.local(),e.format(this.displayFormat)},toRaw:function(t){var e=this.displayInUTC?o.utc(t,this.displayFormat,this.displayLang):o(t,this.displayFormat,this.displayLang);if(e&&e.isValid())return this.modelLang&&e.lang(this.modelLang),this.modelInUTC?e.utc():e.local(),e.format(this.modelFormat)}});var r=i.Extension.MomentCell=i.Cell.extend({editor:i.InputCellEditor,className:"moment-cell",formatter:l,initialize:function(t){i.Cell.prototype.initialize.apply(this,arguments);var a=l.prototype.defaults,o=e.keys(a),r=e.pick(this,o),n=e.pick(t,o);this.formatter=new this.formatter(e.extend({},a,r,n)),this.editor=this.editor.extend({attributes:e.extend({},this.editor.prototype.attributes||this.editor.attributes||{},{placeholder:this.formatter.displayFormat})})}});e.extend(r.prototype,l.prototype.defaults)})(jQuery,_,Backbone,Backgrid,moment);