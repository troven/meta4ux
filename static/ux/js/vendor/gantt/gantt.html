{"user":{"id":"http://Scorpio4.com/app/user/guest","label":"Demo Guest","can":{"login":true,"demo":true}},"modules":[{"id":"Scorpio4","requires":["../chain/js/custom"],"x_geo":{"timeout":60000},"x_timers":["1","5","60","600"],"home":"view/home","models":[{"id":"billing","label":"Invoice History","type":"Remote","fetch":true,"store":"ODb","defaults":{"label":"New Invoice"}},{"id":"domains","label":"Project Domains","type":"Remote","fetch":true,"store":"ODb","defaults":{"label":"New Domain"}},{"id":"invites","label":"User Registration","singleton":true,"type":"Remote","fetch":false,"store":"ODb","url":"/debug/api/user/register.groovy","defaults":{"firstname":"Your first name","lastname":"Your last name","job_title":"N/A","email":"test@example.com"}},{"id":"library","label":"Document Library","type":"Remote","fetch":true,"store":"ODb","defaults":{"label":"New Document"}},{"id":"menu_home","label":"Main Menu","type":"Remote","fetch":true},{"id":"menu_profile","label":"Profile Menu","type":"Remote","fetch":true},{"id":"methodologies","label":"Project Methodologies","type":"Remote","fetch":true,"store":"ODb","iq":{"create":"createEzy Methodology.js"},"defaults":{"label":"New Ezy Methodology","deck":"deck:std","domain":{},"methods":[]},"schema":{"label":{},"deck":{},"domain":{},"methods":{"type":"Nested"}}},{"id":"methods","label":"Scorpio4 Methods","store":"ODb","type":"Remote","fetch":true},{"id":"pmo","label":"Project Office","type":"Remote","fetch":true,"store":"ODb","defaults":{"label":"Project Office"}},{"id":"processes","label":"Scorpio4 Processes","store":"ODb","type":"Remote","fetch":true},{"id":"projects","label":"Projects","type":"Remote","fetch":true,"store":"ODb","defaults":{"label":"","comment":"Describe your project","methodology":false,"sponsor":false,"manager":false,"pmo":false}},{"id":"templates","label":"Templates","type":"Remote","fetch":true,"store":"ODb","defaults":{"label":"New Template","comment":"Describe your template"}},{"id":"users","label":"Users","store":"ODb","type":"Remote","fetch":true,"defaults":{"label":"New User"},"schema":{"label":{"template":"{{lastname}}, {{firstname}} "}}}],"views":[{"id":"view/billing","label":"Invoices [static examples]","comment":"Your past and present invoices.","type":"CRUD","can":{"create":false,"read":true,"update":false,"delete":false},"views":{"read":{"id":"view/billing","label":"Billing","type":"List","model":true,"child":{"className":"col-sm-3","template":"<div><b>{{label}}</b><p>{{comment}}</p><div>Amount: ${{amount}}</div><div>Issued: {{issuedDate}}</div><br/><div class='btn-toolbar'><span class='btn-sm btn-primary pull-left' data-action='preview'>Preview</span><span class='btn-sm btn-primary pull-right' data-action='download'>Download</span></div>"},"collection":"billing"}}},{"id":"view/domains","label":"Project Category","type":"CRUD","isSortable":false,"views":{"read":{"isSortable":false,"id":"view/domains/read","child":{"className":"Scorpio4_domains","template":"<div about='{{id}}' class='list_item'>{{label}}<div><small>{{comment}}</small></div></div>"},"label":"Domain Register","collection":"domains","type":"List"},"create":"update","update":{"id":"view/domains/update","label":"Create Domain","type":"Form","schema":{"label":{"type":"Text","required":true},"comment":{"type":"TextArea"}}}}},{"id":"view/home","el":".home","label":"Scorpio4","type":"Home","template":"<div class='home-body'></div>","views":{"side_menu":"view/menu_home","user_menu":"view/menu_profile","body":"view/welcome","welcome":"view/welcome","processes":"view/processes","methods":"view/methods","domains":"view/domains","methodologies":"view/methodologies","pmo":"view/pmo","projects":"view/projects","templates":"view/templates","users":"view/users","register":"view/register","library":"view/library","billing":"view/billing"}},{"id":"view/library","label":"Scorpio4 Print Shop","comment":"The Print Shop contains documents created and curated by the Scorpio4 team.","type":"CRUD","can":{"create":false,"read":true,"update":false,"delete":false},"views":{"read":{"label":"Document Library","model":true,"type":"List","collection":"library","child":{"isActionable":true,"iq":{"preview":"previewLibrary.js","download":"downloadLibrary.js"},"className":"col-sm-3","template":"<div class='list_item'><label>{{label}}</label><div class='btn-toolbar'><span class='btn-sm btn-primary pull-left' data-action='preview'>Preview</span><span class='btn-sm btn-primary pull-right' data-action='download'>Download</span></div><br/><p>{{{comment}}}</p></div>"}}}},{"id":"view/menu_home","label":"Menu","el":".side_menu","type":"MenuList","model":true,"collection":"menu_home"},{"id":"view/menu_profile","label":"Menu","el":"#menu_profile","type":"MenuList","model":true,"collection":"menu_profile"},{"id":"view/methodologies","label":"Ezy Methodology Register","comment":"A methodology is an ordered set of phases and processes for a specific class of project.","type":"CRUD","isSortable":false,"iq":{"ignore:crud:create":"createEzy Methodology.js"},"views":{"read":{"isSortable":false,"id":"view/methodologies/read","className":"methodologies","child":{"className":"col-sm-2","template":"<div about='{{id}}' class='list_item'>{{label}}<div><small>{{comment}}</small></div></div>"},"label":"Ezy Methodology Register","collection":"methodologies","type":"List","popover":{"placement":"bottom","label":"Hint: Ezy Methodology","comment":"Click the methodology to customise it"}},"create":"update","update":{"id":"view/methodologies/update","label":"Edit Ezy Methodology","type":"HBF","views":{"header":{"id":"view/methodologies/update/header","type":"Template","template":"<div><button data-navigate='about'>About</button><button data-navigate='methods'>methods</button><button data-navigate='diagram'>diagram</button></div>","model":false},"body":"methods","about":{"id":"view/methodologies/update/form","label":"Edit Ezy Methodology","type":"Form","model":false,"schema":{"label":{"label":"Ezy Methodology Name","type":"Text","required":true},"comment":{"label":"Description","type":"TextArea","required":false},"domain":{"label":"Project Category","type":"Select","options":"domains"},"pmo":{"label":"P.M.O.","type":"Select","options":"pmo"},"visibility":{"type":"Select","options":["private","public"]},"tags":{"label":"Tags","type":"Text"}}},"methods":{"id":"view/methodologies/methods","label":"Edit Ezy Methodology","model":false,"isSelectable":false,"type":"ListTree","collection":"methods","className":"methods","child":{"isSortable":true,"isPopOver":false,"isSelectable":false,"sortable":{"items":".process"},"className":"method","childViewContainer":".panel-body","template":"<div class='panel panel-default'><div class='well-sm bg-success' about='{{id}}'><h1 title='{{comment}}'>{{label}}</h1></div><div class='panel-body'></div></div>","collection":"processes"},"branch":{"isSortable":true,"sortable":{"items":".process"},"className":"process","template":"<div class='bg-info' title='{{comment}}' about='{{id}}'>{{label}}</div>"}},"diagram":{"id":"view/methodologies/methods","label":"Edit Ezy Methodology","model":false,"isSelectable":false,"type":"OrgChart","collection":"methods","className":"methods","child":{"className":"method","collection":"processes"}}}}}},{"id":"view/methodologyCreate","label":"Create Ezy Methodology","type":"Wizard","isSortable":false,"modal":true,"model":false,"transitions":{"init":{"initialized":"welcome"},"welcome":{"cancel":"cancelled","next":"step1"},"step2":{"previous":"step1","finish":"finished"}},"views":{"header":{"label":"Create a Project Ezy Methodology"},"welcome":{"label":"Welcome to Scorpio4"},"step1":{"id":"view/methodology/create/step1","transitions":{"previous":"welcome","next":"step2"},"label":"Step 1","type":"Form","schema":{"label":{"label":"Ezy Methodology Name","type":"Text","required":true},"comment":{"label":"Description","type":"Text","required":true}}},"step2":{"id":"view/methodology/create/step2","label":"Step 2","type":"Form","schema":{"cloneEzy Methodology":{"label":"Clone Ezy Methodology","type":"Select","options":"methodologies"},"is_mandatory":{"type":"Select","options":["mandatory","optional"]}}}}},{"id":"view/methods","label":"Scorpio4 Phases","comment":"Each phase of a methodology describes a distinct set of processes.","type":"CRUD","isSortable":false,"can":{"create":true,"read":true,"update":true,"delete":true},"views":{"read":{"isSortable":false,"id":"view/methods/read","child":{"className":"Scorpio4_methods","template":"<div about='{{id}}' class='list_item'>{{label}}<div><small>{{comment}}</small></div></div>"},"label":"Deck Register","collection":"methods","type":"List"},"create":"update","update":{"id":"view/methods/update","label":"Create Phase","type":"Form","schema":{"label":{"label":"Phase Name","type":"Text","required":true},"comment":{"label":"Phase Description","type":"TextArea","rows":10.0,"cols":50.0},"is_mandatory":{"type":"Select","options":["mandatory","optional"]}}}}},{"id":"view/pmo","label":"Project Management Office","comment":"The PMO is responsible for your projects, methodologies and templates.","type":"CRUD","isSortable":false,"can":{"create":false,"delete":false},"views":{"read":{"isSortable":false,"id":"view/pmo/read","child":{"className":"Scorpio4_pmo","template":"<div about='{{id}}' class='list_item'>{{label}}<div><small>{{comment}}</small></div></div>"},"label":"Portfolio Register","collection":"pmo","type":"List"},"update":{"id":"view/pmo/update","label":"Create PMO","type":"Form","schema":{"label":{"label":"Organization","type":"Text","required":true},"comment":{"label":"Value Statement","type":"TextArea"},"logo":{"type":"Upload"}}}}},{"id":"view/processes","label":"Scorpio4 Processes","comment":"A process is a task such as planning, controlling, execution or evaluation of a project.","type":"CRUD","isSortable":false,"can":{"create":true,"read":true,"update":true,"delete":true},"views":{"read":{"isSortable":false,"id":"view/processes/read","child":{"className":"Scorpio4_decks","template":"<div about='{{id}}' class='list_item'>{{label}}<div><small>{{comment}}</small></div></div>"},"popover":{"label":"Hover Hint","comment":"Click the process to customise it"},"collection":"processes","type":"List"},"create":"update","update":{"id":"view/processes/update","label":"Create Process","type":"Form","schema":{"label":{"label":"Process Name","type":"Text","required":true},"method":{"label":"Default Phase","type":"Select","required":true,"options":"methods"},"is_mandatory":{"type":"Select","options":["mandatory","optional"]},"comment":{"label":"Process Description","type":"TextArea"}}}}},{"id":"view/projects","label":"Project Register","comment":"Projects are managed undertakings, they are governed by an Scorpio4 Methodologies.","type":"CRUD","isSortable":false,"views":{"read":{"isSortable":false,"id":"view/projects/read","child":{"className":"Scorpio4_projects","template":"<div about='{{id}}' class='list_item'>{{label}} - {{is_active}}<div><small>{{comment}}</small></div></div>"},"label":"Project Register","collection":"projects","type":"List"},"create":"update","update":{"id":"view/projects/update","label":"Edit Project","type":"Form","schema":{"label":{"type":"Text","required":true,"label":"Project Name","focus":true,"className":"form-group"},"pmo":{"label":"P.M.O.","type":"Select","options":"pmo"},"comment":{"type":"TextArea","label":"Description"},"methodology":{"type":"Select","options":"methodologies"},"stage":{"label":"Current Phase","type":"Select","options":"methods"},"sponsor":{"type":"Select","options":"users"},"manager":{"type":"Select","options":"users"},"is_active":{"type":"Select","options":["active","inactive","archived"]},"status":{"type":"Select","options":["initial","on track","issues","risky","complete","aborted"]},"complete":{"label":"% Completed","type":"Select","options":["0%","25%","50%","75%","95%","100%"]}}}}},{"id":"view/register","label":"Register New User","modal":true,"model":"invites","type":"Form","iq":{"register":"register.js"},"template":"<fieldset class='modal-body'></fieldset><div><button data-action='register'>Register</button></div>","schema":{"firstname":{"editor":"Text","required":true},"lastname":{"editor":"Text","required":true},"job_title":{"label":"Job Title","editor":"Text","required":true},"email":{"editor":"Email","validators":["required","email"]}}},{"id":"view/templates","label":"Template Register","comment":"Templates are documents that are used during all stages of a project.","type":"CRUD","isSortable":false,"views":{"read":{"isSortable":false,"id":"view/templates/read","className":"templates","child":{"className":"col-sm-3","template":"<div about='{{id}}' class='list_item'><label>{{label}}</label><br/><div class='btn-group col-sm-12'><span class='btn-sm btn-primary pull-left' data-action='preview'>preview</span><span class='btn-sm btn-primary pull-right' data-action='download'>download</span></div></div><br/><small>{{{comment}}}</small></div></div>","iq":{"preview":"previewTemplate.js","download":"downloadTemplate.js"}},"label":"Template Register","collection":"templates","type":"List"},"update":{"id":"view/templates/update","label":"Create Template","type":"Form","schema":{"label":{"label":"Template Name","type":"Text","required":true},"comment":{"label":"Description","type":"TextArea","required":true},"page":{"label":"Page Template","type":"HTML","options":{"min-height":200.0}}}}}},{"id":"view/users","label":"Stakeholder Register","comment":"Stakeholders are Scorpio4 users. They include your Project Managers, Sponsors and Team Members.","type":"CRUD","isSortable":false,"views":{"read":{"id":"view/users/read","isSortable":false,"child":{"className":"Scorpio4_users","template":"<div about='{{id}}' class='list_item'>{{lastname}}, {{firstname}}</div>"},"label":"User Register","collection":"users","type":"List"},"create":"update","update":{"id":"view/users/update","label":"Create User","type":"Form","schema":{"firstname":{"editor":"Text","required":true},"lastname":{"editor":"Text","required":true},"job_title":{"label":"Job Title","editor":"Text","required":true},"email":{"editor":"Email","validators":["required","email"]},"security":{"label":"Security Level","editor":"Select","options":["user","manager","pmo"]}}}}},{"id":"view/welcome","label":"Welcome to Scorpio4","comment":"","template":"welcome.html","type":"Template"}],"controllers":[],"templates":{"pdf/cards.html":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n\t\t\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n\n\t<meta name=\"title\" content=\"Scorpio4 Template\" />\n\t<meta name=\"author\" content=\"Scorpio4\" />\n\t<meta name=\"subject\" content=\"Scorpio4 PDF Template\" />\n\t<style>\n\t\tbody {\n\t\t\tfont-family: Sans-Serif;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t}\n\t\t@page {\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\t@page {\n\t\t\t@bottom-right {\n\t\t\tcontent: \"page \" counter(page) \" of \" counter(pages);\n\t\t\t}\n\t\t}\n\t\t.page {\n\t\t\tpage-break-after:always;\n\t\t}\n\n\t\t.clearfix {\n\t\t\tclear: both;\n\t\t}\n\n\t\t.card {\n\t\t\twidth: 32%;\n\t\t\theight: 342px;\n\t\t\tfloat: left;\n\t\t\tmargin: 4px;\n\t\t\tpadding: 0px;\n\t\t\tborder: 1px solid #F0F0F0;\n\t\t}\n\t\t.card .content {\n\t\t\theight: 300px;\n\t\t}\n\n\t\t.card p {\n\t\t\tpadding: 10px;\n\t\t\tfont-size: 14px;\n\t\t\tline-height: 1.5em;\n\t\t}\n\n\t\t.card .footer {\n\t\t\tpadding: 5px;\n\t\t\tfont-size: 0.5em;\n\t\t\tposition: relative;\n\t\t\tbottom: 0px;\n\t\t}\n\n\t\th1 {\n\t\t\tmin-height: 32px;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 0.8em;\n\t\t\tpadding: 5px;\n\t\t\tmargin: 0px;\n\t\t\tborder: none;\n\t\t}\n\n\t\t.method h1 {\n\t\t\tbackground-color: #dff0d8;\n\t\t\tcolor: #003300;\n\t\t\tborder-bottom: 4px solid #008000;\n\t\t}\n\n\t\t.process h1 {\n\t\t\tbackground-color: #428BCA;\n\t\t\tcolor: #F0F0FF;\n\t\t\tborder-bottom: 4px solid #000080;\n\t\t}\n\t</style>\n</head>\n<body>\n<% def pmo = it.pmo; %>\n<div class=\"page\">\n\t<% it.methods.each { it ->\n\tprint \"<div class='method card'><div class='content'><h1>${it.label}</h1><p>${it.comment}</p></div><div class='footer'>&copy; Scorpio4 2014-2015. Customised by ${pmo.label}</div></div>\"\n\t}%>\n</div>\n<div class=\"clearfix\"></div>\n<% it.processes.each { it ->\nprint \"<div class='process card'><div class='content'><h1>${it.label}</h1><p>${it.comment}</p></div><div class='footer'>&copy; Scorpio4 2014-2015. Customised by ${pmo.label}</div></div>\"\n}%>\n</body>\n</html>","welcome.html":"<img class='pull-right' src=\"/assets/images/logo-large.png\"/>\n<h1>{{label}}</h1>\n<h2>Scorpio4 is <i>the</i> simplest way to create a tailored project methodology.</h2>\n<div class=\"intro\">\n\t<p>A methodology is a repeatable, standardized and documented collection of processes, tools, techniques and templates for managing projects. </p>\n\t<p>Tailoring is the process of choosing which of these are appropriate for any given project.\n\t\tDon't worry. Scorpio4 will guide you through it.</p>\n</div>\n<h3>Let's get started ...</h3>\n<ol>\n\t<li class='clickable' data-navigate='methodologies'>Manage your methodologies</li>\n\t<li class='clickable' data-navigate='templates'>Manage your templates</li>\n\t<li class='clickable' data-navigate='projects'>Manage your projects</li>\n</ol>\n","email/register.html":"<div>\n\tDear ${it.firstname},\n\n\t<p>Click <a href=\"${http.webroot}/debug/api/user/confirm.groovy?confirm=${it.confirm}\">here</a> to complete your registration.</p>\n\n</div>","test.txt":"<div about='{{id}}'>TEST: {{id}}</div>","pdf/template.html":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n\t\t\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n\n\t<meta name=\"title\" content=\"Scorpio4 Template\" />\n\t<meta name=\"author\" content=\"Scorpio4\" />\n\t<meta name=\"subject\" content=\"Scorpio4 PDF Template\" />\n\t<style>\n\t\tbody {\n\t\tfont-family: Sans-Serif;\n\t\t}\n\t\t.pull-left {\n\t\tfloat: left;\n\t\t}\n\t\t.pull-right {\n\t\tfloat: right;\n\t\t}\n\t\th1 {\n\t\tpadding: 0px;\n\t\tmargin: 0px;\n\t\tborder-bottom: 1px solid;\n\t\tmargin-bottom: 4px;\n\t\t}\n\t\t.status {\n\t\tfont-size: 0.8em;\n\t\t}\n\t\t.status label {\n\t\tfont-weight: bold;\n\t\t}\n\t\t.status span {\n\t\tfloat: right;\n\t\t}\n\t\t.body {\n\t\tclear: both;\n\t\t}\n\t\t@page {\n\t\t@bottom-right {\n\t\tcontent: \"page \" counter(page) \" of \" counter(pages);\n\t\t}\n\t\t}\n\t\t.page {\n\t\tpage-break-after:always;\n\t\t}\n\n\t</style>\n</head>\n<body>\n<div>\n\t<div class=\"heading\">\n\t\t<div class='pull-left'>\n\t\t\t<img src=\"${http.webroot}/assets/images/Scorpio4-small.png\"/>\n\t\t</div>\n\t\t<div class='pull-right status'>\n\t\t\t<h1>${it.label}</h1>\n\t\t\t<div class='status'>\n\t\t\t\t<div><label>Project Name:</label><span>Software Development</span></div>\n\t\t\t\t<div><label>Project Manager:</label><span>Troven Software</span></div>\n\t\t\t\t<div><label>Revision Date:</label><span>31st January 2015</span></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class='body'>\n\t\t${it.page}\n\t</div>\n</div>\n\n</body>\n</html>"},"scripts":{"downloadTemplate.js":"\nvar path = \"/debug/api/Scorpio4/page.groovy?id=\"+this.model.get(\"id\").substring(1)\n\nconsole.debug(\"Download Template: %o\", path)\nwindow.open(path)\n","register.js":"console.log(\"FN: Register\", arguments)\nalert(\"register\")\nthis.commit();\nthis.model.save();","previewLibrary.js":"var filename = this.model.get(\"url\")\n\nvar path = \"/www/ebook/viewer.html?file=\"+encodeURIComponent(filename)\n\nconsole.debug(\"Preview Template: %o\", path)\n\nscorpio4.ux.preview(path+\"#page=1&zoom=page-fit\")\n","downloadLibrary.js":"var filename = this.model.get(\"url\")\n\nconsole.debug(\"Download Library: %o\", filename)\nwindow.open(filename)\n","createEzy Methodology.js":"\nvar model = arguments[0]\nvar _processes = scorpio4.fact.models.get(\"processes\")\nvar _methods = scorpio4.fact.models.get(\"methods\")\nvar methods = _methods.toJSON();\n\n_.each(methods, function(method, id) {\n    method.processes = []\n    _processes.each(function(process) {\n        var methodId = process.get(\"method\")\n        if (methodId == method.id || methodId == \"methods:\"+id ) {\n            method.processes.push( _.omit(process.toJSON(),[\"method\"]) )\n        }\n    })\n})\n\nconsole.debug(\"FN: createEzy Methodology: %o %o\", model, methods)\nmodel.set(\"methods\", methods)\n","previewTemplate.js":"var filename = \"/debug/api/Scorpio4/page.groovy?id=\"+this.model.get(\"id\").substring(1)\n\nvar path = \"/www/ebook/viewer.html?file=\"+encodeURIComponent(filename)\n\nconsole.debug(\"Preview Template: %o\", path)\n\nscorpio4.ux.preview(path+\"#page=1&zoom=page-fit\")\n","selectPhase.js":"console.log(\"FN: selectPhase\", arguments)\nvar _view = _.extend({}, this.options, { type: \"List\", isSelectable: false })\nvar view = scorpio4.ux.views.show(_view)\nvar processes = scorpio4.fact.models.get(\"processes\")\n\nvar item = arguments[0]\nvar _processes = item.model.get(\"processes\")\n_processes.each(function(_process) {\n    var process = processes.get(_process.get(\"value\"))\n    console.log(\"Process: \", process )\n})\n\n"}}]}